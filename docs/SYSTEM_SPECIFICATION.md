# YT2Mail ã‚·ã‚¹ãƒ†ãƒ ä»•æ§˜æ›¸

**ãƒãƒ¼ã‚¸ãƒ§ãƒ³:** 1.0  
**æœ€çµ‚æ›´æ–°:** 2026-01-21  
**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå:** Starter Story Insights (JP)

---

## ğŸ“‹ ç›®æ¬¡

1. [ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦](#ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦)
2. [æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯](#æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯)
3. [ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ](#ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ)
4. [ä¸»è¦æ©Ÿèƒ½](#ä¸»è¦æ©Ÿèƒ½)
5. [ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ](#ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ)
6. [ç’°å¢ƒå¤‰æ•°](#ç’°å¢ƒå¤‰æ•°)
7. [ã‚¹ã‚¯ãƒªãƒ—ãƒˆä¸€è¦§](#ã‚¹ã‚¯ãƒªãƒ—ãƒˆä¸€è¦§)
8. [APIãƒ»å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹](#apiå¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹)
9. [ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †](#ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †)
10. [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)

---

## ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç›®çš„
æµ·å¤–ã®ã‚¹ãƒ¢ãƒ¼ãƒ«ãƒ“ã‚¸ãƒã‚¹ãƒ»å‰¯æ¥­ã®æˆåŠŸäº‹ä¾‹ã‚’ç´¹ä»‹ã™ã‚‹YouTubeå‹•ç”»ã‚’è‡ªå‹•çš„ã«åˆ†æã—ã€æ—¥æœ¬èªã®è©³ç´°è¨˜äº‹ã¨ã—ã¦é…ä¿¡ã™ã‚‹SaaSãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã€‚

### ä¸»è¦ãªä¾¡å€¤æä¾›
- YouTubeå‹•ç”»ã®éŸ³å£°ã‚’è‡ªå‹•æ–‡å­—èµ·ã“ã—
- Gemini AIã«ã‚ˆã‚‹ãƒ“ã‚¸ãƒã‚¹åˆ†æã¨æ—¥æœ¬èªè¨˜äº‹ç”Ÿæˆ
- ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³å‹ï¼ˆ7æ—¥é–“ç„¡æ–™ãƒˆãƒ©ã‚¤ã‚¢ãƒ«ã€æœˆé¡Â¥980ï¼‰
- è¤‡æ•°ãƒãƒ£ãƒ³ãƒãƒ«å¯¾å¿œã®ãƒãƒ«ãƒã‚½ãƒ¼ã‚¹ç®¡ç†

---

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
- **Framework:** Next.js 15 (App Router)
- **Language:** TypeScript
- **Styling:** Tailwind CSS
- **UI Components:** shadcn/ui
- **Markdown Rendering:** react-markdown, remark-gfm

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
- **Database:** Supabase (PostgreSQL)
- **Authentication:** Supabase Auth
- **Payment:** Stripe (Checkout & Billing Portal)
- **AI Analysis:** Google Gemini 2.0 Flash Lite
- **Video Processing:** ytdl-core (YouTube download)

### ã‚¤ãƒ³ãƒ•ãƒ©
- **Hosting:** Vercel (æ¨å¥¨)
- **Storage:** Supabase Storage
- **Email:** Resend (ãƒ¡ãƒ¼ãƒ«é…ä¿¡)

---

## ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ

### ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹æˆ

#### 1. `users`
ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã¨ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³çŠ¶æ…‹ã‚’ç®¡ç†

```sql
CREATE TABLE users (
    id UUID PRIMARY KEY,
    email VARCHAR(255) NOT NULL,
    stripe_customer_id VARCHAR(255),
    subscription_status VARCHAR(50) DEFAULT 'unpaid',
    trial_end_date TIMESTAMP,
    is_admin BOOLEAN DEFAULT false,
    email_frequency VARCHAR(20) DEFAULT 'daily',
    email_time VARCHAR(10) DEFAULT '07:00',
    interested_categories TEXT[],
    created_at TIMESTAMP DEFAULT NOW()
);
```

**ä¸»è¦ã‚«ãƒ©ãƒ :**
- `subscription_status`: 'active' | 'trialing' | 'canceled' | 'past_due' | 'unpaid'
- `email_frequency`: 'daily' | 'three_per_week' | 'weekly' | 'off'
- `interested_categories`: ['saas', 'ecommerce', 'app', 'content', 'side_hustle']

#### 2. `youtube_channels`
ç®¡ç†å¯¾è±¡ã®YouTubeãƒãƒ£ãƒ³ãƒãƒ«æƒ…å ±

```sql
CREATE TABLE youtube_channels (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    channel_id VARCHAR(255) UNIQUE NOT NULL,
    channel_name VARCHAR(255) NOT NULL,
    channel_url TEXT NOT NULL,
    description TEXT,
    category VARCHAR(50),
    subscriber_count INTEGER,
    is_active BOOLEAN DEFAULT true,
    last_checked_at TIMESTAMP,
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);
```

**ã‚«ãƒ†ã‚´ãƒªãƒ¼:**
- `business`: ä¸€èˆ¬ãƒ“ã‚¸ãƒã‚¹
- `saas`: SaaS/ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢
- `ecommerce`: Eã‚³ãƒãƒ¼ã‚¹/ç‰©è²©
- `side_hustle`: å‰¯æ¥­
- `app`: ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒª
- `content`: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ“ã‚¸ãƒã‚¹

#### 3. `videos`
å‡¦ç†æ¸ˆã¿å‹•ç”»ã¨åˆ†æçµæœ

```sql
CREATE TABLE videos (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    yt_video_id VARCHAR(255) UNIQUE NOT NULL,
    title VARCHAR(500) NOT NULL,
    summary_json JSONB NOT NULL,
    published_at TIMESTAMP,
    thumbnail_url TEXT,
    channel_id UUID REFERENCES youtube_channels(id),
    created_at TIMESTAMP DEFAULT NOW()
);
```

**summary_json æ§‹é€ :**
```json
{
  "business_overview": "ãƒ“ã‚¸ãƒã‚¹ãƒ¢ãƒ‡ãƒ«ã®æ¦‚è¦",
  "key_metrics": "æœˆå•†ã€åˆ©ç›Šç‡ãªã©ã®æ•°å€¤",
  "acquisition_strategy": "é¡§å®¢ç²å¾—æˆ¦ç•¥",
  "tools_used": "ä½¿ç”¨ãƒ„ãƒ¼ãƒ«ãƒ»ã‚¹ã‚¿ãƒƒã‚¯",
  "japan_application": "æ—¥æœ¬å¸‚å ´ã¸ã®å¿œç”¨ã‚¢ã‚¤ãƒ‡ã‚¢",
  "detailed_article": "3000-4000æ–‡å­—ã®è©³ç´°è¨˜äº‹ï¼ˆMarkdownå½¢å¼ï¼‰",
  "transcript": "å‹•ç”»ã®æ–‡å­—èµ·ã“ã—å…¨æ–‡"
}
```

#### 4. `delivery_logs`
ãƒ¡ãƒ¼ãƒ«é…ä¿¡å±¥æ­´

```sql
CREATE TABLE delivery_logs (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID REFERENCES users(id),
    video_id UUID REFERENCES videos(id),
    sent_at TIMESTAMP DEFAULT NOW()
);
```

---

## ä¸»è¦æ©Ÿèƒ½

### 1. ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ãƒ»ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³
- **ãƒ­ã‚°ã‚¤ãƒ³/ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—:** Supabase Authï¼ˆãƒ¡ãƒ¼ãƒ«èªè¨¼ï¼‰
- **ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³:** Stripe Checkoutï¼ˆ7æ—¥é–“ç„¡æ–™ãƒˆãƒ©ã‚¤ã‚¢ãƒ«ï¼‰
- **æ”¯æ‰•ã„ç®¡ç†:** Stripe Billing Portal

### 2. å‹•ç”»å‡¦ç†ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³
1. YouTubeå‹•ç”»ã®éŸ³å£°ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼ˆytdl-coreï¼‰
2. Gemini APIã¸ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
3. AIåˆ†æï¼ˆæ–‡å­—èµ·ã“ã— + ãƒ“ã‚¸ãƒã‚¹åˆ†æï¼‰
4. æ—¥æœ¬èªè¨˜äº‹ç”Ÿæˆ
5. Supabaseã¸ä¿å­˜

### 3. ãƒãƒ«ãƒãƒãƒ£ãƒ³ãƒãƒ«ç®¡ç†
- ãƒãƒ£ãƒ³ãƒãƒ«è¿½åŠ ãƒ»ç·¨é›†
- ã‚«ãƒ†ã‚´ãƒªãƒ¼åˆ†é¡
- è‡ªå‹•/æ‰‹å‹•ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
- å‡¦ç†çŠ¶æ³ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰

### 4. ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šï¼ˆãƒã‚¤ãƒšãƒ¼ã‚¸ï¼‰
- ãƒ¡ãƒ¼ãƒ«é…ä¿¡é »åº¦ãƒ»æ™‚åˆ»è¨­å®š
- èˆˆå‘³ã‚«ãƒ†ã‚´ãƒªãƒ¼é¸æŠ
- ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæƒ…å ±ç®¡ç†
- æ”¯æ‰•ã„æƒ…å ±ç®¡ç†

### 5. ã‚³ãƒ³ãƒ†ãƒ³ãƒ„è¡¨ç¤º
- ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒšãƒ¼ã‚¸ï¼ˆã‚«ãƒ«ãƒ¼ã‚»ãƒ«è¡¨ç¤ºï¼‰
- ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼ˆå‹•ç”»ä¸€è¦§ï¼‰
- è©³ç´°ãƒšãƒ¼ã‚¸ï¼ˆMarkdownè¨˜äº‹è¡¨ç¤ºï¼‰

---

## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```
YT2Mail/
â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”œâ”€â”€ page.tsx                  # ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒšãƒ¼ã‚¸
â”‚   â”œâ”€â”€ login/                    # ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸
â”‚   â”œâ”€â”€ dashboard/                # ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
â”‚   â”‚   â”œâ”€â”€ page.tsx              # å‹•ç”»ä¸€è¦§
â”‚   â”‚   â””â”€â”€ videos/[id]/          # å‹•ç”»è©³ç´°
â”‚   â”œâ”€â”€ settings/                 # ãƒã‚¤ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”œâ”€â”€ page.tsx
â”‚   â”‚   â””â”€â”€ actions.ts            # Server Actions
â”‚   â””â”€â”€ api/                      # API Routes
â”‚       â””â”€â”€ webhooks/
â”‚           â””â”€â”€ stripe/           # Stripe Webhook
â”œâ”€â”€ components/                   # Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ ui/                       # shadcn/ui
â”‚   â””â”€â”€ VideoCarousel.tsx         # ã‚«ãƒ«ãƒ¼ã‚»ãƒ«
â”œâ”€â”€ lib/                          # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”œâ”€â”€ supabase/                 # Supabase ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ stripe/                   # Stripe è¨­å®š
â”‚   â”œâ”€â”€ gemini/                   # Gemini API
â”‚   â”œâ”€â”€ youtube/                  # YouTubeå‡¦ç†
â”‚   â””â”€â”€ types.ts                  # å‹å®šç¾©
â”œâ”€â”€ scripts/                      # ç®¡ç†ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â”œâ”€â”€ add-channel.ts            # ãƒãƒ£ãƒ³ãƒãƒ«è¿½åŠ 
â”‚   â”œâ”€â”€ import-channel-videos.ts  # å‹•ç”»ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
â”‚   â”œâ”€â”€ list-channels.ts          # ãƒãƒ£ãƒ³ãƒãƒ«ä¸€è¦§
â”‚   â”œâ”€â”€ update-video-metadata.ts  # ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿æ›´æ–°
â”‚   â”œâ”€â”€ fill-missing-articles.ts  # è¨˜äº‹è£œå®Œ
â”‚   â”œâ”€â”€ remove-shorts.ts          # ã‚·ãƒ§ãƒ¼ãƒˆå‰Šé™¤
â”‚   â””â”€â”€ fix-bad-titles.ts         # ã‚¿ã‚¤ãƒˆãƒ«ä¿®æ­£
â”œâ”€â”€ supabase/
â”‚   â””â”€â”€ migrations/               # DBãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
â”œâ”€â”€ docs/                         # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚   â””â”€â”€ recommended-channels.md   # ãŠã™ã™ã‚ãƒãƒ£ãƒ³ãƒãƒ«
â””â”€â”€ .env.local                    # ç’°å¢ƒå¤‰æ•°
```

---

## ç’°å¢ƒå¤‰æ•°

`.env.local` ã«ä»¥ä¸‹ã‚’è¨­å®šï¼š

```bash
# Supabase
NEXT_PUBLIC_SUPABASE_URL=https://xxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJxxx...
SUPABASE_SERVICE_ROLE_KEY=eyJxxx...

# Stripe
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_xxx
STRIPE_SECRET_KEY=sk_test_xxx
STRIPE_WEBHOOK_SECRET=whsec_xxx
STRIPE_PRICE_ID=price_xxx

# Google APIs
GEMINI_API_KEY=AIzaxxx
YOUTUBE_API_KEY=AIzaxxx

# Email
RESEND_API_KEY=re_xxx

# App
NEXT_PUBLIC_SITE_URL=http://localhost:3000
```

---

## ã‚¹ã‚¯ãƒªãƒ—ãƒˆä¸€è¦§

### ãƒãƒ£ãƒ³ãƒãƒ«ç®¡ç†

#### ãƒãƒ£ãƒ³ãƒãƒ«è¿½åŠ 
```bash
npx tsx scripts/add-channel.ts <channel_url> [category]

# ä¾‹
npx tsx scripts/add-channel.ts "https://www.youtube.com/@MyFirstMillionPod" business
```

#### ãƒãƒ£ãƒ³ãƒãƒ«ä¸€è¦§è¡¨ç¤º
```bash
npx tsx scripts/list-channels.ts
```

#### ãƒãƒ£ãƒ³ãƒãƒ«ç¢ºèªï¼ˆç°¡æ˜“ç‰ˆï¼‰
```bash
npx tsx scripts/quick-check-channels.ts
```

### å‹•ç”»å‡¦ç†

#### ãƒãƒ£ãƒ³ãƒãƒ«ã‹ã‚‰å‹•ç”»ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
```bash
npx tsx scripts/import-channel-videos.ts <channel_id> [max_videos]

# ä¾‹: æœ€æ–°10ä»¶ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
npx tsx scripts/import-channel-videos.ts "UCyaN6mg5u8Cjy2ZI4ikWaug" 10
```

#### ã‚¤ãƒ³ãƒãƒ¼ãƒˆé€²æ—ç¢ºèª
```bash
npx tsx scripts/check-import-progress.ts
```

### ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹

#### å‹•ç”»ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿æ›´æ–°ï¼ˆã‚¿ã‚¤ãƒˆãƒ«ãƒ»ã‚µãƒ ãƒã‚¤ãƒ«ï¼‰
```bash
npx tsx scripts/update-video-metadata.ts
```

#### è©³ç´°è¨˜äº‹ã®è£œå®Œï¼ˆæ—¢å­˜å‹•ç”»ï¼‰
```bash
npx tsx scripts/fill-missing-articles.ts
```

#### ã‚·ãƒ§ãƒ¼ãƒˆå‹•ç”»å‰Šé™¤
```bash
npx tsx scripts/remove-shorts.ts
```

#### ã‚¿ã‚¤ãƒˆãƒ«ä¿®æ­£ï¼ˆãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³è¨˜å·é™¤å»ï¼‰
```bash
npx tsx scripts/fix-bad-titles.ts
```

---

## APIãƒ»å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹

### 1. Supabase
- **ç”¨é€”:** ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã€èªè¨¼ã€ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸
- **æ–™é‡‘:** Free tierï¼ˆé–‹å§‹æ™‚ï¼‰
- **è¨­å®š:** https://supabase.com/dashboard

### 2. Stripe
- **ç”¨é€”:** ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³æ±ºæ¸ˆ
- **æ–™é‡‘:** å–å¼•æ‰‹æ•°æ–™ 3.6%
- **è¨­å®š:** https://dashboard.stripe.com

### 3. Google Gemini API
- **ç”¨é€”:** å‹•ç”»åˆ†æã€æ–‡å­—èµ·ã“ã—ã€è¨˜äº‹ç”Ÿæˆ
- **æ–™é‡‘:** Free tierï¼ˆæœˆé–“åˆ¶é™ã‚ã‚Šï¼‰
- **è¨­å®š:** https://aistudio.google.com/apikey

### 4. YouTube Data API
- **ç”¨é€”:** ãƒãƒ£ãƒ³ãƒãƒ«æƒ…å ±å–å¾—ã€å‹•ç”»ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
- **æ–™é‡‘:** Freeï¼ˆã‚¯ã‚©ãƒ¼ã‚¿åˆ¶é™ã‚ã‚Šï¼‰
- **è¨­å®š:** https://console.cloud.google.com

### 5. Resend
- **ç”¨é€”:** ãƒ¡ãƒ¼ãƒ«é…ä¿¡
- **æ–™é‡‘:** Free tier 100é€š/æ—¥
- **è¨­å®š:** https://resend.com/api-keys

---

## ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †

### Vercelã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤

1. **GitHubãƒªãƒã‚¸ãƒˆãƒªä½œæˆ**
   ```bash
   git init
   git add .
   git commit -m "Initial commit"
   git remote add origin <your-repo-url>
   git push -u origin main
   ```

2. **Vercelãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ**
   - https://vercel.com/new
   - GitHubãƒªãƒã‚¸ãƒˆãƒªã‚’é¸æŠ
   - Framework Preset: Next.js

3. **ç’°å¢ƒå¤‰æ•°è¨­å®š**
   - Vercel Dashboard â†’ Settings â†’ Environment Variables
   - `.env.local` ã®å†…å®¹ã‚’ã™ã¹ã¦è¿½åŠ 

4. **ãƒ‡ãƒ—ãƒ­ã‚¤**
   - è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆmain ãƒ–ãƒ©ãƒ³ãƒã¸ã®pushæ™‚ï¼‰

### Stripe Webhookè¨­å®š

1. Vercel ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œã€URLã‚’å–å¾—
2. Stripe Dashboard â†’ Developers â†’ Webhooks
3. Endpoint URL: `https://your-domain.vercel.app/api/webhooks/stripe`
4. Events: `checkout.session.completed`, `customer.subscription.updated`, `customer.subscription.deleted`
5. Webhook Secretã‚’ `.env.local` ã«è¿½åŠ 

---

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### 1. Gemini API ã‚¨ãƒ©ãƒ¼ï¼ˆ404 Not Foundï¼‰
**åŸå› :** API ã‚­ãƒ¼ãŒç„¡åŠ¹ã€ã¾ãŸã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šã®å•é¡Œ

**è§£æ±ºç­–:**
- Google AI Studio ã§æ–°ã—ã„APIã‚­ãƒ¼ã‚’ä½œæˆ
- æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã€ŒFree tierã€ã‚’é¸æŠ
- `.env.local` ã‚’æ›´æ–°

### 2. YouTubeå‹•ç”»ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å¤±æ•—
**åŸå› :** å¹´é½¢åˆ¶é™ã€åœ°åŸŸåˆ¶é™ã€ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆå‹•ç”»

**è§£æ±ºç­–:**
- å‹•ç”»URLã‚’ç¢ºèª
- å…¬é–‹å‹•ç”»ã®ã¿å‡¦ç†å¯èƒ½
- ã‚·ãƒ§ãƒ¼ãƒˆå‹•ç”»ã¯é™¤å¤–ã•ã‚Œã‚‹

### 3. Stripeæ±ºæ¸ˆãŒåæ˜ ã•ã‚Œãªã„
**åŸå› :** Webhookæœªè¨­å®šã€ã¾ãŸã¯ç½²åæ¤œè¨¼ã‚¨ãƒ©ãƒ¼

**è§£æ±ºç­–:**
- Webhook URLã‚’ç¢ºèª
- `STRIPE_WEBHOOK_SECRET` ãŒæ­£ã—ã„ã‹ç¢ºèª
- Stripe Dashboard ã§ã‚¤ãƒ™ãƒ³ãƒˆãƒ­ã‚°ã‚’ç¢ºèª

### 4. ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œãªã„
**åŸå› :** `react-markdown` æœªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

**è§£æ±ºç­–:**
```bash
npm install react-markdown remark-gfm
```

### 5. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼
**åŸå› :** ãƒ†ãƒ¼ãƒ–ãƒ«ãŒå­˜åœ¨ã—ãªã„

**è§£æ±ºç­–:**
- Supabase Studio â†’ SQL Editor
- `supabase/migrations/*.sql` ã‚’å®Ÿè¡Œ

---

## ä»Šå¾Œã®æ‹¡å¼µäºˆå®š

### ãƒ•ã‚§ãƒ¼ã‚ºB: ç®¡ç†ç”»é¢ï¼ˆ1-2é€±é–“å¾Œï¼‰
- `/admin/channels` ãƒšãƒ¼ã‚¸
- ãƒãƒ£ãƒ³ãƒãƒ«è¿½åŠ ãƒ»ç·¨é›†UI
- å‹•ç”»ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒœã‚¿ãƒ³
- å‡¦ç†çŠ¶æ³ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰

### ãƒ•ã‚§ãƒ¼ã‚ºA: å®Œå…¨è‡ªå‹•åŒ–ï¼ˆ2-4é€±é–“å¾Œï¼‰
- Cron/GitHub Actions ã«ã‚ˆã‚‹å®šæœŸå®Ÿè¡Œ
- ãƒãƒ£ãƒ³ãƒãƒ«è‡ªå‹•ç™ºè¦‹æ©Ÿèƒ½
- å“è³ªãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
- ãƒ¡ãƒ¼ãƒ«é…ä¿¡è‡ªå‹•åŒ–

### è¿½åŠ æ©Ÿèƒ½å€™è£œ
- ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯æ©Ÿèƒ½
- é–²è¦§å±¥æ­´
- ã‚³ãƒ¡ãƒ³ãƒˆæ©Ÿèƒ½
- APIé€£æºï¼ˆNotion, Slackï¼‰
- å¤šè¨€èªå¯¾å¿œ

---

## ã‚µãƒãƒ¼ãƒˆãƒ»å•ã„åˆã‚ã›

**é–‹ç™ºè€…:** [Your Name]  
**Email:** [Your Email]  
**GitHub:** [Repository URL]

---

**æœ€çµ‚æ›´æ–°:** 2026-01-21  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³:** 1.0
